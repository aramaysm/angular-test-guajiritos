<table mat-table [dataSource]="dataSource">

    @for (colItem of displayedColumns; track colItem) {

        <ng-container [matColumnDef]="colItem.id">
            <th mat-header-cell *matHeaderCellDef> {{colItem.label}} </th>
            @if(colItem.id === "actions"){
              <td mat-cell *matCellDef="let dataSource" class="row gap-1">
                @for (itemBut of colItem.actions; track itemBut) {
                  <button (click)="itemBut.onHandleClick()" 
                  [ngClass]="itemBut.classname"
                 >
                    {{itemBut.label}}
                  </button>
                } 
               
                
               </td>
            }
            @else if (colItem.type === "Chip") {
              <td mat-cell *matCellDef="let dataSource">
                <div class="rounded-10 just-center items-center" [ngClass]="dataSource[colItem.id] === 'Completed' ? 'Chip-success' : dataSource[colItem.id] === 'Pending' ? 'Chip-warning' : 'Chip-info' ">
                  <p> {{dataSource[colItem.id]}}</p>
                </div>
                
                 </td>
            }
            @else {
              <td mat-cell *matCellDef="let dataSource"> {{ dataSource[colItem.id].id !== undefined ? dataSource[colItem.id].name  : dataSource[colItem.id] }} </td>
            }
           
          </ng-container>

    }
  
    <tr mat-header-row *matHeaderRowDef="columnsToRender"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToRender;"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons
                 aria-label="Select page of periodic elements">
  </mat-paginator>
